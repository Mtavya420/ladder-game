{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useReducer, useCallback } from \"react\";\nimport { initState, reducer } from \"Reducer\";\n\nconst useHook = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initState);\n  const increasePlayers = useCallback(() => dispatch({\n    type: \"INCREASE_PLAYERS\"\n  }), []);\n  const decreasePlayers = useCallback(() => dispatch({\n    type: \"DECREASE_PLAYERS\"\n  }), []);\n  const enterGame = useCallback(() => dispatch({\n    type: \"ENTER_GAME\"\n  }), []);\n\n  const startGame = () => dispatch({\n    type: \"START_GAME\"\n  });\n\n  const checkReady = cases => {\n    const isReady = Object.values(cases).every(value => value.trim() !== \"\");\n    dispatch({\n      type: \"CHECK_READY\",\n      isReady\n    });\n  };\n\n  const resetCase = playerCount => {\n    const cases = {};\n\n    for (let i = 0; i < playerCount; i++) cases[i] = \"\";\n\n    dispatch({\n      type: \"RESET_CASE\",\n      cases\n    });\n  };\n\n  const inputCase = (e, idx) => {\n    const {\n      value\n    } = e.target;\n    dispatch({\n      type: \"INPUT_CASE\",\n      idx,\n      value\n    });\n  };\n\n  const getRandomNumber = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n  };\n\n  const getRandomPlayers = (playerCount, data) => {\n    const players = new Set();\n\n    while (players.size < playerCount) players.add(data[getRandomNumber(0, 10)]);\n\n    dispatch({\n      type: \"GET_PLAYERS\",\n      players: [...players]\n    });\n  };\n\n  const getRandomLegs = playerCount => {\n    const legCounts = [];\n    const legs = [];\n    let rows = new Set();\n    let column = 0;\n\n    for (let i = 1; i < playerCount; i++) legCounts.push(getRandomNumber(2, 5));\n\n    while (column < playerCount - 1) {\n      if (rows.size === legCounts[column]) {\n        legs.push([...rows].sort());\n        rows = new Set();\n        column++;\n      }\n\n      const num = getRandomNumber(0, 9);\n      if (column < 1) rows.add(num);else {\n        const isDuplicate = legs[column - 1].includes(num);\n        if (!isDuplicate) rows.add(num);\n      }\n    }\n\n    dispatch({\n      type: \"GET_LEGS\",\n      legs\n    });\n  };\n\n  const goHome = useCallback(() => dispatch({\n    type: \"GO_HOME\"\n  }), []);\n  const goResult = useCallback(() => dispatch({\n    type: \"GO_RESULT\"\n  }), []);\n  const goGame = useCallback(() => dispatch({\n    type: \"GO_GAME\"\n  }), []);\n\n  const updateResult = (idx, posX) => dispatch({\n    type: \"UPDATE_RESULT\",\n    idx,\n    posX\n  });\n\n  return {\n    state,\n    increasePlayers,\n    decreasePlayers,\n    enterGame,\n    startGame,\n    checkReady,\n    resetCase,\n    inputCase,\n    getRandomPlayers,\n    getRandomLegs,\n    goHome,\n    goResult,\n    goGame,\n    updateResult\n  };\n};\n\n_s(useHook, \"qoeSUx0mYrMRJaGpBeAQ3niDio4=\");\n\nexport default useHook;","map":{"version":3,"sources":["/Users/friendship/Documents/dev/ghost-leg/ver_2/src/Hooks.js"],"names":["useReducer","useCallback","initState","reducer","useHook","state","dispatch","increasePlayers","type","decreasePlayers","enterGame","startGame","checkReady","cases","isReady","Object","values","every","value","trim","resetCase","playerCount","i","inputCase","e","idx","target","getRandomNumber","min","max","Math","ceil","floor","random","getRandomPlayers","data","players","Set","size","add","getRandomLegs","legCounts","legs","rows","column","push","sort","num","isDuplicate","includes","goHome","goResult","goGame","updateResult","posX"],"mappings":"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","sourcesContent":["import { useReducer, useCallback } from \"react\";\nimport { initState, reducer } from \"Reducer\";\n\nconst useHook = () => {\n  const [state, dispatch] = useReducer(reducer, initState);\n\n  const increasePlayers = useCallback(\n    () => dispatch({ type: \"INCREASE_PLAYERS\" }),\n    []\n  );\n  const decreasePlayers = useCallback(\n    () => dispatch({ type: \"DECREASE_PLAYERS\" }),\n    []\n  );\n\n  const enterGame = useCallback(() => dispatch({ type: \"ENTER_GAME\" }), []);\n  const startGame = () => dispatch({ type: \"START_GAME\" });\n\n  const checkReady = (cases) => {\n    const isReady = Object.values(cases).every((value) => value.trim() !== \"\");\n    dispatch({ type: \"CHECK_READY\", isReady });\n  };\n\n  const resetCase = (playerCount) => {\n    const cases = {};\n    for (let i = 0; i < playerCount; i++) cases[i] = \"\";\n    dispatch({ type: \"RESET_CASE\", cases });\n  };\n\n  const inputCase = (e, idx) => {\n    const { value } = e.target;\n    dispatch({ type: \"INPUT_CASE\", idx, value });\n  };\n\n  const getRandomNumber = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n  };\n\n  const getRandomPlayers = (playerCount, data) => {\n    const players = new Set();\n    while (players.size < playerCount)\n      players.add(data[getRandomNumber(0, 10)]);\n    dispatch({ type: \"GET_PLAYERS\", players: [...players] });\n  };\n\n  const getRandomLegs = (playerCount) => {\n    const legCounts = [];\n    const legs = [];\n    let rows = new Set();\n    let column = 0;\n\n    for (let i = 1; i < playerCount; i++) legCounts.push(getRandomNumber(2, 5));\n\n    while (column < playerCount - 1) {\n      if (rows.size === legCounts[column]) {\n        legs.push([...rows].sort());\n        rows = new Set();\n        column++;\n      }\n\n      const num = getRandomNumber(0, 9);\n      if (column < 1) rows.add(num);\n      else {\n        const isDuplicate = legs[column - 1].includes(num);\n        if (!isDuplicate) rows.add(num);\n      }\n    }\n\n    dispatch({ type: \"GET_LEGS\", legs });\n  };\n\n  const goHome = useCallback(() => dispatch({ type: \"GO_HOME\" }), []);\n  const goResult = useCallback(() => dispatch({ type: \"GO_RESULT\" }), []);\n  const goGame = useCallback(() => dispatch({ type: \"GO_GAME\" }), []);\n\n  const updateResult = (idx, posX) =>\n    dispatch({ type: \"UPDATE_RESULT\", idx, posX });\n\n  return {\n    state,\n    increasePlayers,\n    decreasePlayers,\n    enterGame,\n    startGame,\n    checkReady,\n    resetCase,\n    inputCase,\n    getRandomPlayers,\n    getRandomLegs,\n    goHome,\n    goResult,\n    goGame,\n    updateResult,\n  };\n};\n\nexport default useHook;\n"]},"metadata":{},"sourceType":"module"}